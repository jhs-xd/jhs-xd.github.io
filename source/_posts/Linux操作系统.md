---
title: Linux操作系统
copyright: true
categories: 
  - Linux
tags: 
  - 操作系统

---
<blockquote class="blockquote-center">Variety is the spice of life.
![](/myimages/22.jpg)

<!-- more -->

<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=320 height=86 src="//music.163.com/outchain/player?type=2&id=1318582717&auto=1&height=66"></iframe>

---
# 什么是操作系统 #
1. 操作系统是计算机硬件与用户之间沟通的纽带
	- 没有安装操作系统的计算机被称为裸机
	- 在裸机上只能用机器语言编写程序
	- 计算机安装操作系统后，就可以在操作系统上安装支持的高级语言环境，使用高级语言开发程序
2. 操作系统的作用
	- 直接操作计算机硬件
	- 把操作硬件的代码封装为系统调用，以供应用软件的开发

----------
# 操作系统分类 #
根据应用领域的不同，主流操作系统可分为以下四类：

- 桌面操作系统
- 服务器操作系统
- 嵌入式操作系统
- 移动设备操作系统

## 桌面操作系统 ##
1. **Windows**
	- 用户群体大
	- 应用软件多
	- 安全性、稳定性较差
2. macOS
	- 基于Unix
	- 更安全、稳定
	- 适合开发人员
3. Linux
	- 应用软件少
	- 用户群体小

## 服务器操作系统 ##
服务器的维护：通过SSH客户端软件登录服务器实现远程维护
1. **Linux**
	- 安全、稳定、免费
	- 配套服务器软件更齐全
	- 占有率高
2. Windows Server
	- 付费
	- 占有率低

## 嵌入式操作系统 ##
嵌入式开发：智能硬件开发
1. **Linux**
	- 开源、免费
	- 内核小
	- 开发商可自行定制

## 移动设别操作系统 ##
移动设备：智能手机、平板（也属于嵌入式系统）
1. iOS
2. Android（基于Linux）

----------
# 虚拟机 #
虚拟机指通过软件模拟的具有完整硬件系统功能的、运行在一个完全隔离环境中的完整计算机系统。

	- 虚拟系统通过生成现有操作系统的全新虚拟镜像，具有与真实操作系统完全相同的功能
	- 进入虚拟系统后，所有操作都是在这个全新的独立的虚拟系统中进行，可以独立安装运行软件、保存数据，不会对真实的操作系统产生任何影响
	- 可以真实操作系统和虚拟系统之间的灵活切换
通过在虚拟机中安装各种操作系统和软件，可以安全、方便地学习新的操作系统和软件。

----------
# Linux内核及发行版本 #
1. Linux内核版本
内核程序是系统的心脏，用来管理硬件设备、提供系统调用，在硬件和应用程序之间提供了一个抽象层。
	
	Linux内核版本中调用关系：终端命令——>系统调用——>硬件设备
2. Linux发行版本

	（1）Linux发行版本中除了Linux内核，通常包含了：
	- 桌面环境
	- 办公套件
	- 媒体播放器
	- 数据库等应用软件

	（2）常见的Linux发行版本：
	- Ubuntu
	- Redhat
	- Fedora
	- Debian
	- openSUSE
	- CentOS
	- Linux Mint
	- Manjaro
	- Mageia
	- Arch

----------
# 常用Linux终端命令 #
## 学习Linux终端命令的原因 ##

- Linux刚面世的时候没有图形界面，所有操作全靠终端命令完成，如磁盘操作、文件存取、进程管理等
- 服务器维护都是通过SSH客户端远程实现，而SSH客户端没有图形界面
- Linux发行版本的终端命令有200余个，但是常用的仅10多个
- 
## 常用Linux终端命令 ##
1. 终端快捷键：
	- 打开终端：Ctrl+Alt+T
	- 增大字号：Ctrl+Shift+=
	- 减小字号：Ctrl+-
	- Tab ：自动补全（按两下，提示可能存在的命令）
2. 7个常用命令：

		序号  命令        对应英文                作用
		1    ls           list                 查看当前文件夹下的内容
		     ls -a                             显示指定目录下所有子目录与文件，包括隐藏文件
		     ls -l                             以列表的方式显示文件的详细信息
		     ls -lh                            以人性化的方式显示文件大小
		2    cd [目录名]   change directory     切换文件夹
		     cd                                回到当前账户的主目录（/home/用户目录）
		     cd ~                              回到当前账户的主目录
		     cd .                              保持当前目录
		     cd ..                             切换到上级目录
		     cd -                              在最近两次工作目录之间来回切换
		3    pwd          print work directory 查看当前文件夹
		4    mkdir [目录名] make directory      创建文件夹
		     mkdir -p [递归目录]                可以递归创建目录
		5    touch [文件名] touch               如果文件不存在，新建文件；如果文件存在，更新文件的末次修改日期
		6    rm[文件名]    remove               删除指定名称的文件（删除后不可恢复）
		     rm -r [文件夹名]                   删除指定名称的文件夹
		     rm -f [文件名]                     强制删除，忽略不存在的文件
		7    clear        clear                清屏
3. 查阅终端命令的帮助信息：

		方式一：command --help ：查看帮助信息    
		方式二：man command    ：查阅详细手册
	        - 按 Enter   ：一行行显示
	        - 按 Space/f ：下一屏
	        - 按 b       ：上一屏
	        - 按 q       ：退出
4. Linux下文件和目录的特点：

		- Linux文件或目录名称最长可以有256个字符
		- 以 . 开头的文件为隐藏文件，需要用 -a 参数才能显示
		-  . 代表当前目录
		-  .. 代表上一级目录
		-  相对路径：输入路径时，最前面不是 / 或者 ~ ，表示相对当前目录的目录位置
		-  绝对路径：输入路径时，最前面是 / 或者 ~ ，表示从根目录或家目录开始的具体目录位置
5. 其他终端命令：

			1 tree [目录名]        以树状图列出文件目录结构
	      tree -d         只显示目录
			2 cp 源文件 目标文件    复制文件或目录
			      cp -f           强制复制，已经存在的目标文件直接覆盖，不提示
			      cp -i           覆盖文件前提示
			      cp -r           复制文件夹，若给出的源文件是目录文件才执行cp，将递归复制该目录下的所有子目录和文件，目标文件必须是一个目录名
			3 mv 源文件 目标文件    移动文件或目录/文件或目录重命名
			      mv -i           覆盖文件前提示
			4 cat [文件名]         查看文件内容、创建文件、文件合并、追加文件内容等
			      cat -b          对非空输出行编号（与 nl 命令等价）
			      cat -n          对输出的所有行编号
			5 more [文件名]        分屏显示文件内容
			    * cat 与 more 的区别：
			      cat 一次显示所有内容，适合查看内容较少的文本文件
			6 grep “搜索文本文件内容” 搜索文本文件名
			      grep -n         显示匹配行及行号
			      grep -v         显示不包含匹配文本的所有行（求反）
			      grep -i         忽略大小写
			    * 常用的两种模式的查找：
			      ^a     ：行首，查找以 a 开头的行
			      ke$    ：行尾，查找以 ke 结束的行
			7 echo 文字内容        在终端中显示参数指定的文字，通常和重定向联合使用
			    * 重定向之 > 和 >> 的区别：
			      >  表示输出，会覆盖原有文件的内容
			      >> 表示追加，会将内容追加到已有文件内容的末尾
			    * echo 与 touch 的区别：
			      echo 在创建文件的同时，也指定的文件的内容（echo hello > a.txt）
			      touch 只能创建一个空的文件
			8 管道 |
			  - Linux 允许将一个命令的输出通过 管道 作为另一个命令的输入
			  - 命令1（写） |  命令2（读）
			  - 常用的管道命令有：
			      more：分屏显示内容
			      grep：在命令执行结果的基础上查询指定的文本
6. 远程管理常用命令

		1 关机                shutdown 时间（now：立刻关机；不指定时间，默认1分钟后关机；20:30：八点半关机；+10:10分钟后关机）
		  取消关机             shutdown -c
		  重启                shutdown -r 时间
		2 查看或配置网卡信息    ifconfig
		  * 查看网卡对应的IP地址    ifconfig | grep inet
		  * 127.0.0.1 被称为本地回环地址，一般用来测试本机网卡是否正常
		3 检测到目标IP地址的连接是否正常    ping
		4 远程登录和复制文件
		  * 远程登录           ssh [-p 端口号] 用户名@IP    
		  * 远程复制文件        scp [-P（大写） 端口号] [-r] 用户名@IP:文件名或路径 用户名@IP:文件名或路径
7. SSH基础

	（1）在Linux中SSH是非常常用的工具，通过SSH客户端可以连接到运行了SSH服务端的远程机器上。

		- SSH客户端是一种使用 Secure Shell（SSH）协议连接到远程计算机的软件程序
		- SSH目前比较可靠，专为远程登录会话和其他网络服务提供安全性的协议
		    - 利用SSH协议可以有效防止远程管理过程中的信息泄露
		    - 通过SSH协议可以对所有传输的数据进行加密，也能够防止DNS欺骗和IP欺骗
		- SSH的另一项优点是传输的数据可以是经过压缩的，可以加快传输速度
		- SSH 服务的默认端口号：22
		    1）常见服务默认端口号：
		       Web 服务        80
		       HTTPS          443
		       FTP 服务        21
		    2）实际应用中，SSH 服务的端口号很有可能不是默认的22，这是需要使用 -p 选项指定正确的端口号，否则无法正常连接服务器
	（2）SSH 这个终端命令只能在Linux或Unix系统下使用，如果在Windows系统中，可以安装 [PuTTY](https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html) 或者 [XShell](https://xshell.en.softonic.com/) 客户端软件即可

		在Windows客户端使用 ssh 服务远程登录Linux服务器的步骤：

		1）在Windows客户端安装 XShell 或者 Putty
		2）在Linux远程系统上安装 ssh 服务，并查看是否安装成功：
		    sudo apt-get install openssh-server
		    ssh -V
		3）启动 ssh ，并查看是否启动成功：
		    /etc/init.d/ssh start
		    ps -e | grep ssh
		4）注意，若远程Linux系统在虚拟机上，首先要设置虚拟机网络连接方式为“桥接网卡”，
		   这样虚拟机才会被看作与主机在同一局域网段中的独立的机器，才能与主机网络互相ping通。
		5）检查Windows主机与Linux虚拟机之间能否互相ping通
		6）若虚拟机无法ping通主机，大概率是Windows防火墙的阻止
		   此时需要在Windows防火墙设置中，在“入站规则”里找到配置文件类型为“公用”的“文件和打印共享（回显请求–ICMPv4-In）”规则，设置为允许
		7）在Windows客户端打开XShell，新建会话，在“主机”选项中填入Linux服务端的IP地址，并根据提示填写Linux系统的用户名和密码即可登录到远程Linux服务器
	（3）SSH 免密码登录

		1）配置公钥：
		  在客户端执行 ssh-keygen 即可生成 ssh 秘钥（包含公钥id_rsa.pub和私钥id_rsa），回车三次即可
		2）上传公钥到远程服务器端的 .ssh 文件夹下：
		  在客户端执行 ssh-copy-id [-p port] 用户名@服务端IP，即可让远程服务器记住公钥（服务器生成 authorized_keys，内容即公钥id_rsa.pub）
	（4）配置 ssh 远程登录的别名

		1）每次输入 ssh [-p 端口号] 用户名@IP 过于麻烦，可以在客户端 ~/.ssh/ 文件夹下创建 config 文件
		2）config 文件内容如下：
		    Host 别名
		        HostName 远程服务器IP
		        User     远程服务器用户名
		        Port     SSH服务端的端口号
		3）保存之后，即可使用“ssh 别名”实现远程登录，也可以使用“scp 本地文件地址 别名 远程服务器地址”将指定文件远程复制到服务器端
8. scp命令

	- scp 用来在Linux下进行远程文件拷贝
	- scp 命令的地址格式与 ssh 相同，在指定端口号时需使用大写-P
	- 示例：

			1 把本地当前目录下的 1.txt 文件复制到远程家目录下的 Desktop/1.txt
			  scp -P port 1.txt user@remote:Desktop/1.txt
			2 把远程家目录下的 Desktop/1.txt 文件复制到本地当前目录下的 1.txt
			  scp -P port user@remote:Desktop/1.txt 1.txt
	- 注意：“：”后面的路径如果不是绝对路径，则以用户家目录作为参照路径
	- 加上 -r 选项可以复制文件夹
	- cp 这个终端命令只能在Linux或Unix系统下使用，在Windows系统中可以安装 PuTTY 使用 pscp 命令行工具或者安装 [FileZilla](https://filezilla-project.org) 或 [Xftp](https://www.netsarang.com/zh/all-downloads/?code=622) 使用 FTP 进行文件传输